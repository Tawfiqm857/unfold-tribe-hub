import{o as q,h as L,r as x,j as e,B as o,A as T,t as B,v as I,l as c,$ as K,q as z,p as F,s as J}from"./index-D6oOpJz6.js";import{C as b,c as P}from"./card-bNXMIAJA.js";import{D as G,a as Y,b as H,c as V,d as Z}from"./dialog-BQvMVaKK.js";import{L as i}from"./label-D7IAa9nh.js";import{T as $}from"./textarea-DXRlQ9lW.js";import{E as C,a as S}from"./eye-2pvCwsHJ.js";import{M as Q}from"./mail-Jh3fVYji.js";import{M as W}from"./map-pin-Vxny5efK.js";import{S as X}from"./star-BF7qBg-w.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ee=({children:s})=>{var E;const{user:t,updateProfile:u,updatePassword:f}=L(),[l,p]=x.useState(!1),[j,A]=x.useState("profile"),[g,w]=x.useState(!1),[n,D]=x.useState({fullName:"",bio:"",phone:"",address:"",city:"",state:"",country:"",avatar:""}),[r,k]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,O]=x.useState({current:!1,new:!1,confirm:!1});x.useEffect(()=>{t&&l&&D({fullName:t.fullName||"",bio:t.bio||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",country:t.country||"",avatar:t.avatar||""})},[t,l]);const M=async a=>{a.preventDefault(),w(!0);try{await u(n),p(!1)}catch{}finally{w(!1)}},R=async a=>{if(a.preventDefault(),r.newPassword===r.confirmPassword){w(!0);try{await f(r.currentPassword,r.newPassword),k({currentPassword:"",newPassword:"",confirmPassword:""}),p(!1)}catch{}finally{w(!1)}}},d=(a,m)=>{D(y=>({...y,[a]:m}))},v=(a,m)=>{k(y=>({...y,[a]:m}))},N=a=>{O(m=>({...m,[a]:!m[a]}))},U=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];return e.jsxs(G,{open:l,onOpenChange:p,children:[e.jsx(Y,{asChild:!0,children:s}),e.jsxs(H,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsx(V,{children:e.jsx(Z,{children:"Edit Profile"})}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx(o,{variant:j==="profile"?"default":"outline",onClick:()=>A("profile"),className:"flex-1",children:"Profile Info"}),e.jsx(o,{variant:j==="password"?"default":"outline",onClick:()=>A("password"),className:"flex-1",children:"Change Password"})]}),j==="profile"&&e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(T,{className:"w-20 h-20",children:[e.jsx(B,{src:n.avatar,alt:n.fullName}),e.jsx(I,{className:"text-2xl",children:(E=n.fullName)==null?void 0:E.charAt(0)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"avatar",children:"Profile Picture URL"}),e.jsx(c,{id:"avatar",type:"url",placeholder:"https://example.com/your-photo.jpg",value:n.avatar,onChange:a=>d("avatar",a.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a URL to your profile picture"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"fullName",children:"Full Name"}),e.jsx(c,{id:"fullName",value:n.fullName,onChange:a=>d("fullName",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number"}),e.jsx(c,{id:"phone",type:"tel",placeholder:"+234 xxx xxx xxxx",value:n.phone,onChange:a=>d("phone",a.target.value)})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"bio",children:"Bio"}),e.jsx($,{id:"bio",placeholder:"Tell us about yourself...",value:n.bio,onChange:a=>d("bio",a.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(c,{id:"address",placeholder:"Street address",value:n.address,onChange:a=>d("address",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(c,{id:"city",placeholder:"Lagos, Abuja, etc.",value:n.city,onChange:a=>d("city",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"state",children:"State"}),e.jsxs("select",{id:"state",className:"w-full px-3 py-2 border border-input bg-background rounded-md",value:n.state,onChange:a=>d("state",a.target.value),children:[e.jsx("option",{value:"",children:"Select State"}),U.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsx(c,{id:"country",value:n.country,onChange:a=>d("country",a.target.value),placeholder:"Nigeria"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:g,children:g?"Saving...":"Save Changes"})]})]}),j==="password"&&e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"currentPassword",type:h.current?"text":"password",value:r.currentPassword,onChange:a=>v("currentPassword",a.target.value),required:!0}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N("current"),children:h.current?e.jsx(C,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"newPassword",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"newPassword",type:h.new?"text":"password",value:r.newPassword,onChange:a=>v("newPassword",a.target.value),required:!0,minLength:6}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N("new"),children:h.new?e.jsx(C,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"confirmPassword",type:h.confirm?"text":"password",value:r.confirmPassword,onChange:a=>v("confirmPassword",a.target.value),required:!0,minLength:6}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N("confirm"),children:h.confirm?e.jsx(C,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]}),r.newPassword&&r.confirmPassword&&r.newPassword!==r.confirmPassword&&e.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:g||r.newPassword!==r.confirmPassword,children:g?"Updating...":"Update Password"})]})]})]})]})},de=()=>{var u,f;K();const{user:s}=L(),t=l=>l?new Date(l).toLocaleDateString("en-NG",{year:"numeric",month:"long"}):"Recently joined";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-hero h-32"}),e.jsx(P,{className:"p-8 -mt-16 relative",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[e.jsxs(T,{className:"w-32 h-32 border-4 border-background shadow-lg",children:[e.jsx(B,{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.fullName}),e.jsx(I,{className:"text-4xl bg-gradient-hero text-white",children:((u=s==null?void 0:s.fullName)==null?void 0:u.charAt(0))||((f=s==null?void 0:s.email)==null?void 0:f.charAt(0))||"U"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:(s==null?void 0:s.fullName)||"Your Name"}),e.jsxs("p",{className:"text-muted-foreground text-lg flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),s==null?void 0:s.email]})]}),e.jsx(ee,{children:e.jsx(o,{children:"Edit Profile"})})]}),(s==null?void 0:s.bio)&&e.jsx("p",{className:"text-muted-foreground",children:s.bio}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(s==null?void 0:s.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.phone})]}),((s==null?void 0:s.city)||(s==null?void 0:s.state))&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(W,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:[s.city,s.state].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(z,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[(s==null?void 0:s.followers)||0," followers"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(X,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[(s==null?void 0:s.points)||0," points"]})]})]}),(s==null?void 0:s.interests)&&s.interests.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.map(l=>e.jsx(F,{variant:"secondary",children:l},l))}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{children:["Member since ",t(s==null?void 0:s.joinedAt)]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(b,{children:e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"🎯 Joined Unfold Tribe Nigeria"}),e.jsx("p",{children:"📝 Profile created"}),e.jsx("p",{children:'🌟 Earned "New Member" badge'})]})]})}),e.jsx(b,{children:e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Achievements"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s!=null&&s.badges&&s.badges.length>0?s.badges.map(l=>e.jsxs(F,{variant:"outline",className:"bg-primary/10",children:["🏆 ",l]},l)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your profile to earn badges!"})})]})})]})]})};export{de as default};
