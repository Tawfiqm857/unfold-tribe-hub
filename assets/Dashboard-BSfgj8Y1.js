import{h as k,i as E,r as o,q as h,M as u,s as p,j as e,B as l,A as F,t as M,v as q,w as r}from"./index-C0xk7pEu.js";import{C as c,c as i,a as d,b as m}from"./card-BGo4dePb.js";import{S as B}from"./star-C9rYQXHp.js";import{P as D}from"./plus-DO32DWNa.js";import{T as I}from"./trending-up-BLZCKSuw.js";const G=()=>{var x;const{user:s}=k(),n=E(),[j,f]=o.useState(0),[g,v]=o.useState(0),[N,w]=o.useState(0);o.useEffect(()=>{(async()=>{if(!(s!=null&&s.id))return;const t=new Date().toISOString(),[{count:S},{count:P},{count:A}]=await Promise.all([r.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",s.id),r.from("posts").select("*",{count:"exact",head:!0}).eq("author_id",s.id),r.from("events").select("*",{count:"exact",head:!0}).gte("starts_at",t)]);f(S||0),v(P||0),w(A||0)})()},[s==null?void 0:s.id]);const C=[{label:"Points",value:(s==null?void 0:s.points)||0,icon:B,color:"text-yellow-500"},{label:"Followers",value:j,icon:h,color:"text-blue-500"},{label:"Posts",value:g,icon:u,color:"text-green-500"},{label:"Events",value:N,icon:p,color:"text-purple-500"}],b=[{type:"post",content:"Shared insights on startup growth",time:"2 hours ago"},{type:"comment",content:'Commented on "Building MVP in 2024"',time:"4 hours ago"},{type:"event",content:'Joined "AI Product Showcase"',time:"1 day ago"},{type:"follow",content:"Started following @sarahdesigner",time:"2 days ago"}],y=[{name:"Sarah Chen",role:"Product Designer",avatar:"https://images.unsplash.com/photo-1494790108755-2616b332e234?w=150&h=150&fit=crop&crop=face",mutualConnections:5},{name:"Alex Rivera",role:"Full Stack Developer",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",mutualConnections:3},{name:"Maya Patel",role:"Startup Founder",avatar:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop&crop=face",mutualConnections:8}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-hero rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",((x=s==null?void 0:s.fullName)==null?void 0:x.split(" ")[0])||"Member","! ðŸ‘‹"]}),e.jsx("p",{className:"text-white/80 text-lg",children:"Ready to connect and grow with Nigerian entrepreneurs today?"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.points)||0}),e.jsx("div",{className:"text-white/80 text-sm",children:"Total Points"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:C.map((a,t)=>e.jsx(c,{className:"card-hover",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a.label}),e.jsx("p",{className:"text-2xl font-bold",children:a.value})]}),e.jsx(a.icon,{className:`w-8 h-8 ${a.color}`})]})})},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(c,{className:"lg:col-span-2",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsx(m,{children:"Recent Activity"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>n("/feed"),children:"View All"})]}),e.jsx(i,{className:"space-y-4",children:b.map((a,t)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:a.content}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.time})]})]},t))})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsx(m,{children:"Suggested for You"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>n("/community"),children:"See More"})]}),e.jsx(i,{className:"space-y-4",children:y.map((a,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{className:"w-10 h-10",children:[e.jsx(M,{src:a.avatar,alt:a.name}),e.jsx(q,{children:a.name.charAt(0)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.role}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.mutualConnections," mutual connections"]})]}),e.jsx(l,{size:"sm",variant:"outline",children:e.jsx(D,{className:"w-3 h-3"})})]},t))})]})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"Quick Actions"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(l,{variant:"outline",className:"h-auto flex-col gap-2 p-6",onClick:()=>n("/feed"),children:[e.jsx(u,{className:"w-6 h-6"}),e.jsx("span",{children:"Create Post"})]}),e.jsxs(l,{variant:"outline",className:"h-auto flex-col gap-2 p-6",onClick:()=>n("/events"),children:[e.jsx(p,{className:"w-6 h-6"}),e.jsx("span",{children:"Browse Events"})]}),e.jsxs(l,{variant:"outline",className:"h-auto flex-col gap-2 p-6",onClick:()=>n("/community"),children:[e.jsx(h,{className:"w-6 h-6"}),e.jsx("span",{children:"Find People"})]}),e.jsxs(l,{variant:"outline",className:"h-auto flex-col gap-2 p-6",onClick:()=>n("/learning"),children:[e.jsx(I,{className:"w-6 h-6"}),e.jsx("span",{children:"Learn & Grow"})]})]})})]})]})};export{G as default};
